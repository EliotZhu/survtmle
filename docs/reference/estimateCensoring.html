<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Estimate Censoring Mechanisms — estimateCensoring • survtmle</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Estimate Censoring Mechanisms — estimateCensoring" />
<meta property="og:description" content="Computes an estimate of the hazard for censoring using either glm or
SuperLearner based on log-likelihood loss. The function then computes
the censoring survival distribution based on these estimates. The structure
of the function is specific to how it is called within survtmle. In
particular, dataList must have a very specific structure for this
function to run properly. The list should consist of data.frame
objects. The first will have the number of rows for each observation equal to
the ftime corresponding to that observation. The subsequent entries
will have t0 rows for each observation and will set trt column
equal to each value of trtOfInterest in turn. One of these columns
must be named C that is a counting process for the right-censoring
variable. The function will fit a regression with C as the outcome and
functions of trt and names(adjustVars) as specified by
glm.ctime or SL.ctime as predictors." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">survtmle</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/survtmle_intro.html">Targeted Learning for Survival Analysis with Competing Risks</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/benkeser/survtmle">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Estimate Censoring Mechanisms</h1>
    <small class="dont-index">Source: <a href='https://github.com/benkeser/survtmle/blob/master/R/censoring_estimate.R'><code>R/censoring_estimate.R</code></a></small>
    <div class="hidden name"><code>estimateCensoring.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Computes an estimate of the hazard for censoring using either <code>glm</code> or
<code>SuperLearner</code> based on log-likelihood loss. The function then computes
the censoring survival distribution based on these estimates. The structure
of the function is specific to how it is called within <code>survtmle</code>. In
particular, <code>dataList</code> must have a very specific structure for this
function to run properly. The list should consist of <code>data.frame</code>
objects. The first will have the number of rows for each observation equal to
the <code>ftime</code> corresponding to that observation. The subsequent entries
will have <code>t0</code> rows for each observation and will set <code>trt</code> column
equal to each value of <code>trtOfInterest</code> in turn. One of these columns
must be named <code>C</code> that is a counting process for the right-censoring
variable. The function will fit a regression with <code>C</code> as the outcome and
functions of <code>trt</code> and <code><a href='https://rdrr.io/r/base/names.html'>names(adjustVars)</a></code> as specified by
<code>glm.ctime</code> or <code>SL.ctime</code> as predictors.</p>
    </div>

    <pre class="usage"><span class='fu'>estimateCensoring</span>(
  <span class='no'>dataList</span>,
  <span class='no'>adjustVars</span>,
  <span class='no'>t0</span>,
  <span class='kw'>SL.ctime</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>glm.ctime</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>glm.family</span>,
  <span class='no'>cvControl</span>,
  <span class='kw'>returnModels</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>gtol</span> <span class='kw'>=</span> <span class='fl'>0.001</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dataList</th>
      <td><p>A list of <code>data.frame</code> objects as described in
<code><a href='makeDataList.html'>?makeDataList</a></code>.</p></td>
    </tr>
    <tr>
      <th>adjustVars</th>
      <td><p>Object of class <code>data.frame</code> that contains the
variables to adjust for in the regression.</p></td>
    </tr>
    <tr>
      <th>t0</th>
      <td><p>The timepoint at which <code>survtmle</code> was called to evaluate.
Needed only because the naming convention for the regression if
<code>t == t0</code> is different than if <code>t != t0</code>.</p></td>
    </tr>
    <tr>
      <th>SL.ctime</th>
      <td><p>A character vector or list specification to be passed to the
<code>SL.library</code> argument in the call to <code>SuperLearner</code> for the
outcome regression (either cause-specific hazards or conditional
mean). See <code>?SuperLearner</code> for more information on how to specify
valid <code>SuperLearner</code> libraries. It is expected that the wrappers
used in the library will play nicely with the input variables, which
will be called <code>"trt"</code> and <code><a href='https://rdrr.io/r/base/names.html'>names(adjustVars)</a></code>.</p></td>
    </tr>
    <tr>
      <th>glm.ctime</th>
      <td><p>A character specification of the right-hand side of the
equation passed to the <code>formula</code> option of a call to <code>glm</code>
for the outcome regression (either cause-specific hazards or
conditional mean). Ignored if <code>SL.ctime != NULL</code>. Use
<code>"trt"</code> to specify the treatment in this formula (see examples).
The formula can additionally include any variables found in
<code><a href='https://rdrr.io/r/base/names.html'>names(adjustVars)</a></code>.</p></td>
    </tr>
    <tr>
      <th>glm.family</th>
      <td><p>The type of regression to be performed if fitting GLMs in
the estimation and fluctuation procedures. The default is "binomial"
for logistic regression. Only change this from the default if there
are justifications that are well understood. This is inherited from
the calling function (either <code>mean_tmle</code> or <code>hazard_tmle</code>).</p></td>
    </tr>
    <tr>
      <th>cvControl</th>
      <td><p>A <code>list</code> providing control options to be fed directly
into calls to <code>SuperLearner</code>. This should match the contents of
<code>SuperLearner.CV.control</code> exactly. For further details, consult
the documentation of the <span class="pkg">SuperLearner</span> package. This is passed in
from <code>mean_tmle</code> or <code>hazard_tmle</code> via <code>survtmle</code>.</p></td>
    </tr>
    <tr>
      <th>returnModels</th>
      <td><p>A boolean indicating whether to return the
<code>SuperLearner</code> or <code>glm</code> objects used to estimate the
nuisance parameters. Must be set to <code>TRUE</code> if the user plans to
use calls to <code>timepoints</code> to obtain estimates at times other than
<code>t0</code>. See <code><a href='timepoints.html'>?timepoints</a></code> for more information.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>A boolean indicating whether the function should print
messages to indicate progress.</p></td>
    </tr>
    <tr>
      <th>gtol</th>
      <td><p>The truncation level of predicted censoring survival to handle
positivity violations.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments. Not currently used.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function returns a list that is exactly the same as the input
        <code>dataList</code>, but with a column named <code>G_dC</code> added to it,
        which is the estimated conditional survival distribution for the
        censoring variable evaluated at the each of the rows of each
        <code>data.frame</code> in <code>dataList</code>.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Benkeser, Nima Hejazi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


